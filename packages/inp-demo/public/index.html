<!DOCTYPE html>
<!--
 Copyright 2022 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      https://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 -->
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>INP âš¡ Demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="modulepreload" href="https://unpkg.com/web-vitals@4.2.4/dist/web-vitals.js?module" />
    <meta name="og:title" content="Interaction to Next Paint (INP) âš¡ Live Demo">
    <meta name="og:type" content="website">
    <meta name="og:url" content="https://chrome.dev/inp-demo/">
    <meta name="og:image" content="https://cdn.glitch.global/fde30f9e-77a9-455f-9030-5d22ff8584dc/card.png?v=1652332947788">
    <meta name="og:description" content="A live demo to help you get a *feel* for the INP metric. Start interacting and watch the values update!">
    <meta name="twitter:card" content="summary_large_image">
  </head>
  <body>
    <header>
      <h1>Interaction to Next Paint (INP) âš¡ Live Demo</h1>
      <div>
        To help you get a "feel" for the INP metric ðŸ‘‰
        <a href="https://web.dev/articles/inp">(Learn more)</a>
      </div>
    </header>
    <main>
      <div class="config">
        <div class="instructions">
          <h2>Instructions</h2>
          <ol>
            <li>Use the controls below to add interaction latency.</li>
            <li>Start interacting with the page (type, click, etc.)</li>
            <li>Notice how the experience affects the INP value.</li>
            <li>Refresh the page to start over.</li>
          </ol>
        </div>

        <h2>Introduce periodic main thread blocking</h2>
        <div class="control">
          <div class="range">
            <label>Frequency</label>
            <input
              id="periodic-blocking-amount"
              type="range"
              value="0"
              min="0"
              max="1000"
            />
            <span class="low">Never</span>
            <span class="high">Often</span>
          </div>
        </div>

        <h2>Customize event processing times</h2>
        <div class="control">
          <div class="range">
            <label
              ><code>keydown</code> blocking time
              <em id="keydown-blocking-time-value"></em
            ></label>
            <input
              id="keydown-blocking-time"
              type="range"
              value="0"
              min="0"
              max="200"
            />
            <span class="low">0</span>
            <span class="high">200</span>
          </div>

          <div class="range">
            <label
              ><code>keyup</code> blocking time
              <em id="keyup-blocking-time-value"></em
            ></label>
            <input
              id="keyup-blocking-time"
              type="range"
              value="0"
              min="0"
              max="200"
            />
            <span class="low">0</span>
            <span class="high">200</span>
          </div>

          <div class="range">
            <label
              ><code>pointerdown</code> blocking time
              <em id="pointerdown-blocking-time-value"></em
            ></label>
            <input
              id="pointerdown-blocking-time"
              type="range"
              value="0"
              min="0"
              max="200"
            />
            <span class="low">0</span>
            <span class="high">200</span>
          </div>

          <div class="range">
            <label
              ><code>pointerup</code> blocking time
              <em id="pointerup-blocking-time-value"></em
            ></label>
            <input
              id="pointerup-blocking-time"
              type="range"
              value="0"
              min="0"
              max="200"
            />
            <span class="low">0</span>
            <span class="high">200</span>
          </div>
        </div>
      </div>

      <div class="report">
        <div class="feature">
          <div class="feature-box">
            <div class="metric">
              <label class="metric-title">
                INP value
                <em>(since page load)</em>
              </label>
              <span id="inp-value">0</span>
            </div>
          </div>
          <div class="feature-box">
            <div class="frame-meter">
              <div id="clock" class="clock">
                <div class="clock-hand"></div>
              </div>
              <label>
                <input id="clock-toggle" checked="checked" type="checkbox" />
                <span class="framemeater-toggle">Active</span>
              </label>
            </div>
          </div>
        </div>

        <h2>Start typing...</h2>
        <div class="control">
          <textarea id="textarea" rows="4"></textarea>
        </div>
        <h2>Event log <em>(descending order)</em></h2>
        <div class="table-container">
          <table class="event-table">
            <thead>
              <tr>
                <th>Interaction No.</th>
                <th>Event Type</th>
                <th class="value">Duration</th>
                <th class="value">Timestamp</th>
              </tr>
            </thead>
            <tbody id="event-log"></tbody>
          </table>
        </div>
      </div>
    </main>
    <footer>
      Created by
      <a href="https://twitter.com/philwalton">@philwalton</a> &nbsp;âš¡&nbsp;
      Inspiration from previous work by
      <a href="https://input-delay.glitch.me/">Monica Dinculescu</a> and
      <a href="https://youtu.be/nLF0n9SACd4?t=267">Dan Abramov</a>
    </footer>
    <script type="module" src="main.js"></script>
  </body>
</html>
